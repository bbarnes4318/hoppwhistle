# ============================================================================
# Hopwhistle API - Environment Variables
# ============================================================================
# Copy this file to apps/api/.env and customize for your environment

# ============================================================================
# Server Configuration
# ============================================================================
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# ============================================================================
# Database (PostgreSQL with Prisma)
# ============================================================================
DATABASE_URL=postgresql://hopwhistle:hopwhistle_dev@localhost:5432/hopwhistle

# ============================================================================
# Redis (for caching/sessions/pub-sub)
# ============================================================================
REDIS_URL=redis://localhost:6379

# ============================================================================
# Security & Authentication
# ============================================================================
# Generate a secure random secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# IMPORTANT: Use a different secret for production!
JWT_SECRET=change-me-generate-random-secret-here

# Default Tenant ID (for demo purposes)
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000000

# ============================================================================
# S3 Storage (MinIO for local development)
# ============================================================================
S3_ENDPOINT=http://localhost:9000
S3_BUCKET=hopwhistle-recordings
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_FORCE_PATH_STYLE=true

# ============================================================================
# Recording Lifecycle (days)
# ============================================================================
RECORDING_HOT_TO_WARM_DAYS=30
RECORDING_WARM_TO_COLD_DAYS=90
RECORDING_RETENTION_DAYS=365
RECORDING_LIFECYCLE_ENABLED=true

# ============================================================================
# SignalWire Provisioning
# ============================================================================
# Project ID: Found in SignalWire dashboard (Settings > API) - UUID format
# API Token: Found in SignalWire dashboard (Settings > API) - starts with PT (NOT the signing key PSK_)
# Space URL: Your SignalWire space domain (e.g., leadzer.signalwire.com)
SIGNALWIRE_PROJECT_ID=your-project-id-here
SIGNALWIRE_API_TOKEN=PTyour-api-token-here
SIGNALWIRE_SPACE_URL=your-space.signalwire.com

# ============================================================================
# External Services
# ============================================================================
RTPENGINE_URL=http://localhost:22222
FREESWITCH_ESL_HOST=localhost
FREESWITCH_ESL_PORT=8021
FREESWITCH_ESL_PASSWORD=ClueCon

# ============================================================================
# ClickHouse (Analytics Database - Optional)
# ============================================================================
CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=hopwhistle_analytics

# ============================================================================
# Observability
# ============================================================================
JAEGER_ENDPOINT=http://localhost:14268/api/traces
ENABLE_TRACING=true
LOG_LEVEL=info

# ============================================================================
# Third-Party Integrations (Optional)
# ============================================================================
# Twilio (for carrier services)
TWILIO_API_KEY=
TWILIO_API_SECRET=

# TrustedForm (for consent verification)
TRUSTEDFORM_API_KEY=

# Jornaya (for consent verification)
JORNAYA_API_KEY=

# Stripe (for payments)
STRIPE_ENABLED=false
STRIPE_SECRET_KEY=sk_test_...

# ============================================================================
# Email (SMTP - Optional)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@hopwhistle.com
