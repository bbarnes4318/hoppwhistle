<include>
  <context name="default">
    <!-- Simple outbound test - hardcoded caller ID for debugging -->
    <extension name="outbound-to-telnyx">
      <condition field="destination_number" expression="^(\d{10,11})$">
        <action application="log" data="INFO Outbound call to ${destination_number}"/>
        <action application="set" data="effective_caller_id_number=+18653969104"/>
        <action application="set" data="effective_caller_id_name=Hopwhistle"/>
        <action application="set" data="hangup_after_bridge=true"/>
        <action application="bridge" data="sofia/gateway/telnyx/+1${destination_number}"/>
      </condition>
    </extension>

    <!-- Fallback for any unmatched -->
    <extension name="unmatched">
      <condition field="destination_number" expression="^.+$">
        <action application="log" data="WARNING Unmatched: ${destination_number}"/>
        <action application="hangup" data="NO_ROUTE_DESTINATION"/>
      </condition>
    </extension>
  </context>
</include>
