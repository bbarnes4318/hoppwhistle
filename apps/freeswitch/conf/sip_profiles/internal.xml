<include>
  <!-- Internal SIP Profile for WebRTC -->
  <profile name="internal">
    <settings>
      <!-- Basic Settings -->
      <param name="debug" value="0"/>
      <param name="sip-trace" value="false"/>
      <param name="sip-capture" value="false"/>

      <!-- Network Settings -->
      <param name="sip-ip" value="$${local_ip_v4}"/>
      <param name="ext-sip-ip" value="auto-nat"/>
      <param name="sip-port" value="5060"/>
      <param name="rtp-ip" value="$${local_ip_v4}"/>
      <param name="ext-rtp-ip" value="auto-nat"/>

      <!-- WebSocket Bindings for WebRTC -->
      <param name="ws-binding" value=":8083"/>
      <param name="wss-binding" value=":7443"/>

      <!-- SIP Settings -->
      <param name="dialplan" value="XML"/>
      <param name="context" value="default"/>

      <!-- Codec Settings -->
      <param name="inbound-codec-prefs" value="OPUS,G722,PCMU,PCMA"/>
      <param name="outbound-codec-prefs" value="OPUS,G722,PCMU,PCMA"/>

      <!-- Authentication -->
      <param name="challenge-realm" value="auto_from"/>
      <param name="auth-calls" value="false"/>
      <!-- <param name="apply-inbound-acl" value="domains"/> -->

      <!-- NAT Traversal -->
      <param name="aggressive-nat-detection" value="true"/>
      <param name="local-network-acl" value="localnet.auto"/>
      <param name="apply-nat-acl" value="nat.auto"/>

      <!-- Registration -->
      <param name="accept-blind-reg" value="true"/>
      <param name="accept-blind-auth" value="true"/>

      <!-- RTP Settings -->
      <param name="rtp-timeout-sec" value="300"/>
      <param name="rtp-hold-timeout-sec" value="1800"/>
    </settings>
  </profile>
</include>
