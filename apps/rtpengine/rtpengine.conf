[rtpengine]
# RTPEngine configuration file

# Interface configuration
# For multi-interface environments, specify all interfaces
# Use 'auto' to auto-detect, or specify explicitly: eth0;eth1;eth2
interface = auto

# Listen address and port for ng (control protocol)
listen-ng = 0.0.0.0:22222

# Control socket (for local CLI access)
listen-cli = 127.0.0.1:9900

# PID file
pidfile = /var/run/rtpengine.pid

# Logging
log-level = 6
log-facility = local0
log-stderr = yes
log-stderr-level = 6

# Port ranges for RTP
# Format: min-max (UDP ports for RTP media)
min-port = 10000
max-port = 20000

# Timeout settings (seconds)
timeout = 60
silent-timeout = 3600

# Statistics
statistics = yes

# Table for storing sessions (iptables table number)
table = 0

# NAT handling
# Enable automatic NAT detection and handling
nat-type = force_rtcp

# SRTP support
# Enable SRTP encryption/decryption
srtp-only = no
srtp-cipher = AES_CM_128_HMAC_SHA1_80

# Codec preferences (comma-separated)
codecs = OPUS,G722,PCMU,PCMA,GSM

# DTLS support (for WebRTC)
dtls-passive = no

# ICE support (for WebRTC)
ice-dtls = no

# TOS (Type of Service) for RTP packets
tos = 184

# RTP packet size (bytes)
rtp-packet-size = 1200

# Threading (0 = auto-detect CPU count)
num-threads = 0

# Recording support
recording-dir = /recordings
recording-method = proc
recording-format = wav

# Maximum number of concurrent sessions
max-sessions = 10000

# Session timeout (seconds)
session-timeout = 3600

# Delete delay (seconds before deleting session after BYE)
delete-delay = 5

# Contact address (for SDP rewriting)
# 'auto' = auto-detect from interface
contact-address = auto

# RTP proxy mode
# 'full' = full proxy mode (default, recommended)
# 'transparent' = transparent mode
proxy-mode = full

# Media address (for SDP rewriting)
# 'auto' = auto-detect from interface
media-address = auto

# RTP timeout (seconds)
rtp-timeout = 60

# RTCP timeout (seconds)
rtcp-timeout = 60

# Forwarding mode
# 'automatic' = auto-detect (default)
# 'always' = always forward
# 'never' = never forward
forwarding-mode = automatic

# RTP statistics
rtp-statistics = yes

# Call statistics
call-statistics = yes

# Logging of media (for debugging, disable in production)
log-media = no

# Logging of RTP packets (for debugging, disable in production)
log-rtp = no

# Logging of RTCP packets (for debugging, disable in production)
log-rtcp = no

# Recording (enable if needed)
recording = no

# Recording method
# 'proc' = process-based (default)
# 'pcap' = pcap-based
recording-method = proc

# Recording format
# 'wav' = WAV format
# 'pcap' = PCAP format
recording-format = wav

# Recording prefix
recording-prefix = rtpengine

# Recording suffix
recording-suffix = .wav

# Recording call-id
recording-call-id = yes

# Recording from-tag
recording-from-tag = yes

# Recording to-tag
recording-to-tag = yes
