# ============================================================================
# Docker Compose - Environment Variables
# ============================================================================
# Copy this file to infra/docker/.env and customize for your environment

# ============================================================================
# Database (PostgreSQL)
# ============================================================================
POSTGRES_USER=hopwhistle
POSTGRES_PASSWORD=change-me-in-production
POSTGRES_DB=hopwhistle

# ============================================================================
# Redis
# ============================================================================
REDIS_PASSWORD=

# ============================================================================
# MinIO (S3-compatible storage)
# ============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ============================================================================
# FreeSWITCH
# ============================================================================
FREESWITCH_ESL_PASSWORD=ClueCon
API_URL=http://api:3001
API_KEY=demo-key

# FreeSWITCH S3 Recording (optional)
S3_ENDPOINT=http://minio:9000
S3_BUCKET=hopwhistle-recordings
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
RECORDINGS_FORMAT=wav

# FreeSWITCH TLS/SRTP (optional)
ENABLE_TLS=false
ENABLE_SRTP=optional
TRUNK_AUTH_IP=

# ============================================================================
# Kamailio (SIP Proxy)
# ============================================================================
KAMAILIO_DB_HOST=postgres
KAMAILIO_DB_NAME=hopwhistle
KAMAILIO_DB_USER=hopwhistle
KAMAILIO_DB_DB_PASSWORD=change-me-in-production
FREESWITCH_NODES=freeswitch:5080
RTPENGINE_SOCK=udp:rtpengine:22222

# ============================================================================
# RTPEngine
# ============================================================================
RTPENGINE_INTERFACE=eth0
# Port ranges: 10000-20000 (configured in rtpengine.conf)
# Control port: 22222 (UDP/TCP)

# ============================================================================
# S3 Storage Configuration (for applications)
# ============================================================================
S3_ENDPOINT=http://minio:9000
S3_BUCKET=hopwhistle-recordings
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_FORCE_PATH_STYLE=true

# ============================================================================
# Recording Lifecycle (days)
# ============================================================================
RECORDING_HOT_TO_WARM_DAYS=30
RECORDING_WARM_TO_COLD_DAYS=90
RECORDING_RETENTION_DAYS=365
RECORDING_LIFECYCLE_ENABLED=true

# ============================================================================
# Port Reference (Docker Compose)
# ============================================================================
# API: 3001
# Web: 3000
# PostgreSQL: 5432
# Redis: 6379
# MinIO: 9000 (API), 9001 (Console)
# ClickHouse: 8123 (HTTP), 9000 (Native)
# FreeSWITCH: 5080 (SIP UDP/TCP), 5081 (SIP TLS), 8021 (ESL)
# Kamailio: 5060 (SIP UDP/TCP), 5061 (SIP TLS)
# RTPEngine: 22222 (Control)
# Prometheus: 9090
# Grafana: 3000
# Jaeger: 14268 (HTTP), 6831 (UDP), 6832 (UDP)

